<!DOCTYPE html>
<html lang="de">
{% load static %}
<head>
    {% block head %}
        <title>
            {% block title %}
                Darf Vermieter das? | KI-gestützte Mietvertragsanalyse
            {% endblock %}
        </title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        {% block meta %}
            <!-- Meta Description -->
            <meta name="description"
                  content="Prüfen Sie Mietverträge schnell und sicher mit KI. Ideal für Studierende, Vermieter und Mieter. Erkennen Sie unzulässige Klauseln, versteckte Kosten und mehr – schnell und transparent.">

            <!-- Keywords -->
            <meta name="keywords"
                  content="Mietvertrag prüfen, Mietrecht, KI Mietvertragsanalyse, Studierende, unzulässige Mietkosten, Renovierungsklauseln, Kündigungsfristen, Haftungsklauseln, faire Preise, Nebenkosten prüfen">

            <!-- Author -->
            <meta name="author" content="Darf Vermieter Das?">

            <!-- Open Graph / Facebook -->
            <meta property="og:title" content="Darf Vermieter Das? | Mietverträge prüfen mit KI für Studierende">
            <meta property="og:description"
                  content="Mit unserer KI prüfen Sie Mietverträge schnell, sicher und einfach. Perfekt für Studierende und alle, die unzulässige Klauseln erkennen wollen.">
            <meta property="og:image" content="{% static 'img/og-image.png' %}">
            <meta property="og:url" content="https://darf-vermieter-das.de">
            <meta property="og:type" content="website">

            <!-- Twitter -->
            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:title" content="Darf Vermieter Das? | Mietverträge prüfen mit KI">
            <meta name="twitter:description"
                  content="Erfahren Sie in Sekunden, was Ihr Vermieter darf und was nicht – dank unserer KI-gestützten Mietvertragsanalyse.">
            <meta name="twitter:image" content="{% static 'img/og-image.png' %}">

            <!-- Robots -->
            <meta name="robots" content="index, follow">

            <!-- Canonical URL -->
            <link rel="canonical" href="https://darf-vermieter-das.de">
        {% endblock %}
        <!-- TODO: favicon -->
        <link rel="icon" href="favicon.png"/>
        <!-- Preconnect to external resources -->
        <link rel="preconnect" href="https://fonts.bunny.net" crossorigin="anonymous">

        <!-- Preload fonts for faster rendering -->
        <link rel="preload" href="https://fonts.bunny.net/css?family=abhaya-libre:400|courier-prime:400" as="style"
              onload="this.onload=null;this.rel='stylesheet'">
        <noscript>
            <link href="https://fonts.bunny.net/css?family=abhaya-libre:400|courier-prime:400" rel="stylesheet">
        </noscript>

        <!-- Stylesheets -->
        <link rel="stylesheet" href="{% static 'bootstrap-5.3.3-dist/css/bootstrap.min.css' %}">
        <link rel="stylesheet" href="{% static 'bootstrap-icons-1.11.3/font/bootstrap-icons.css' %}">
        <link rel="stylesheet" href="{% static 'css/main.css' %}">

        {% block link %}
        {% endblock %}

        <!-- Scripts -->
        <script defer src="{% static 'js/alpine.min.js' %}"></script>
        <script src="{% static 'js/htmx.min.js' %}"></script>
        <script src="{% static 'bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js' %}"></script>

        {% block script %}
        {% endblock %}
    {% endblock %}
</head>
<body hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-boost="true" hx-trigger="load">
<main>
    {% include 'navbar.html' %}
    {% block content %}
    {% endblock %}
    {% include 'footer.html' %}
</main>

<script>
	function setTheme(theme) {
		// Remove both theme classes from the html element
		document.documentElement.classList.remove('light', 'dark')
		document.documentElement.classList.add(theme)

		// Set Bootstrap's data-bs-theme attribute
		document.documentElement.setAttribute('data-bs-theme', theme)

		// Store the user's preference in localStorage (optional)
		localStorage.setItem('theme-preference', theme)
	}

	// Check for saved preference first
	const savedTheme = localStorage.getItem('theme-preference')

	if (savedTheme) {
		setTheme(savedTheme)
	} else {
		const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
		setTheme(systemTheme)
	}

	// Listen for system preference changes
	window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
		const newTheme = event.matches ? "dark" : "light"
		setTheme(newTheme)
	})
</script>
</body>
{% block extra_js %}
{% endblock %}
{% block extra_css %}
{% endblock %}
</html>
